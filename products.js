const productData = {
	"tom-yum": {
		id: "tom-yum",
		name: "Tom Yum Tea",
		subtitle: "Thai Herbs from Tom Yum Recipe",
		category: "Wellness Blend",
		image: "/images/products/tom_yum_tea.webp",
		color: "#FF4D4D",
		wellnessBenefits: "Detoxifying & Immunity Boost",
		ingredients: ["Organic lemongrass", "Kaffir lime", "Galangal", "Lemon"],
		description: "Thai Herbs from Tom Yum Recipe",
		story:
			"\"Tom Yum Tea\" seamlessly blends the bold, aromatic flavors of Thailand's iconic soup with the soothing, healing qualities of an organic herbal infusion. Inspired by my mother's loving tradition of offering Tom Yum soup to comfort me when I was unwell, this tea brings together lemongrass, kaffir lime, galangal, and a refreshing touch of lemon to create a harmonious balance of spicy, sour, and savory notes. Each sip transports you to the vibrant streets of Thailand, offering a comforting yet invigorating escape, perfect for those seeking both adventure and wellness in every cup.",
	},
	"siam-arun": {
		id: "siam-arun",
		name: "Siam Arun",
		subtitle: "The Forest Black Tea from the Sunrise",
		category: "Wellness Blend",
		image: "/images/products/siam_arun.webp",
		color: "#8B0000",
		wellnessBenefits: "Revitalizing Energy & Heart Vitality",
		ingredients: ["Organic premium black tea", "Peppermint", "Rosemary"],
		description: "The Forest Black Tea from the Sunrise",
		story:
			"\"Siam Arun\" captures the magical moment when dawn breaks over Thailand's ancient forests. This premium black tea, enhanced with peppermint and rosemary, embodies the revitalizing energy of a new day. Each sip connects you to the serene power of Thailand's natural landscapes, delivering not just a burst of energy, but a moment of true awakening for both body and spirit. Perfect for morning rituals or whenever you need a mindful moment of renewal.",
	},
	"buddha-bless": {
		id: "buddha-bless",
		name: "Buddha Bless",
		subtitle: "The Healing Serenity of Green Tea",
		category: "Wellness Blend",
		image: "/images/products/buddha_bless.webp",
		color: "#4CAF50",
		wellnessBenefits: "Revitalizing Metabolism & Serene Focus",
		ingredients: ["Organic green tea", "Jasmine"],
		description: "The Healing Serenity of Green Tea",
		story:
			"\"Buddha Bless\" honors the profound serenity found in Thai Buddhist traditions. This delicate blend pairs organic green tea with jasmine flowers, creating a tea that nurtures both body and mind. Inspired by the peaceful meditation practices of Thai temples, each cup offers a moment of tranquility in our busy world. The jasmine's gentle fragrance enhances the tea's natural calming properties, making this blend perfect for moments of reflection or whenever you seek mental clarity and emotional balance.",
	},
	"please-me": {
		id: "please-me",
		name: "Please Me",
		subtitle: "Stress Relief and Soothing Sleep",
		category: "Wellness Blend",
		image: "/images/products/please_me.webp",
		color: "#87CEEB",
		wellnessBenefits: "Relaxation & Restorative Sleep",
		ingredients: [
			"Organic chamomile",
			"Rose",
			"Chrysanthemum",
			"Peppermint",
			"Mulberry leaves",
		],
		description: "Stress Relief and Soothing Sleep",
		story:
			'"Please Me" was crafted for those nights when the mind refuses to quiet down. This harmonious blend combines chamomile, rose, chrysanthemum, peppermint, and mulberry leaves to create a natural remedy for modern stress. Drawing from traditional Thai herbal wisdom, each ingredient was selected for its gentle sedative properties and complementary flavors. As you sip this soothing infusion, feel the day\'s tensions gently dissolve, preparing both body and mind for the deep, restorative sleep that modern life so often denies us.',
	},
	"yellow-sapphire": {
		id: "yellow-sapphire",
		name: "Yellow Sapphire",
		subtitle: "Sparkle in Wisdom, Savor Prosperity",
		category: "Wellness Blend",
		image: "/images/products/yellow_sapphire.webp",
		color: "#FFD700",
		wellnessBenefits: "Anti-Inflammatory & Circulatory Health",
		ingredients: ["Organic chrysanthemum", "Organic marigold"],
		description: "Sparkle in Wisdom, Savor Prosperity",
		story:
			'"Yellow Sapphire" draws inspiration from the precious gemstone revered in Thai culture for bringing wisdom and prosperity. This golden infusion combines organic chrysanthemum and marigold flowers, creating a tea as beautiful to behold as it is beneficial to drink. In Thai traditional medicine, these sunny blooms are celebrated for their anti-inflammatory properties and ability to support healthy circulation. Each cup offers not just a moment of indulgence, but a connection to ancient wisdom that values both physical wellbeing and life\'s simple pleasures.',
	},
	"peppermint-bliss": {
		id: "peppermint-bliss",
		name: "Peppermint Bliss",
		subtitle: "A Daily Dose of Joy",
		category: "Wellness Blend",
		image: "/images/products/peppermint_bliss.webp",
		color: "#4CAF50",
		wellnessBenefits: "Refreshment & Digestive Harmony",
		ingredients: ["Organic peppermint"],
		description: "A Daily Dose of Joy",
		story:
			"\"Peppermint Bliss\" celebrates the pure, invigorating essence of organic peppermint in its most pristine form. While simple in composition, this single-herb infusion delivers a complex experience: the initial cool sensation that awakens the senses, followed by a warming comfort that soothes from within. Cultivated in Thailand's northern highlands where the climate produces exceptionally aromatic herbs, our peppermint leaves are harvested at peak potency to ensure each cup delivers nature's perfect balance of flavor and therapeutic benefit.",
	},
	"ginger-spice": {
		id: "ginger-spice",
		name: "Ginger Spice",
		subtitle: "Immune Support, Naturally Healing",
		category: "Wellness Blend",
		image: "/images/products/ginger_spice.webp",
		color: "#F0E68C",
		wellnessBenefits: "Immunity Boost & Digestive Harmony",
		ingredients: ["Organic ginger", "Lemongrass", "Lemon"],
		description: "Immune Support, Naturally Healing",
		story:
			'"Ginger Spice" embodies the ancient Thai belief in food as medicine. This warming blend combines the fiery strength of organic ginger with the citrus brightness of lemongrass and lemon to create a powerhouse of immune support. Developed from a family recipe passed through generations of Thai healers, this infusion offers more than just protection against seasonal challenges—it provides a revitalizing experience that invigorates the senses while gently supporting digestive comfort. Each sip connects you to Thailand\'s rich tradition of herbal wisdom.',
	},
	"siam-lady": {
		id: "siam-lady",
		name: "Siam Lady",
		subtitle: "A Symphony of Thai Elegance and Charm",
		category: "Wellness Blend",
		image: "/images/products/siam_lady.webp",
		color: "#FFC0CB",
		wellnessBenefits: "Antioxidant & Relaxation",
		ingredients: ["Organic rose", "Jasmine", "Roselle"],
		description: "A Symphony of Thai Elegance and Charm",
		story:
			'"Siam Lady" pays homage to the grace, strength, and beauty of Thai women throughout history. This delicate floral blend combines organic rose, jasmine, and roselle to create an infusion as complex and nuanced as the women who inspired it. The rose provides a sweet foundation, while jasmine adds ethereal notes, and roselle contributes a subtle tartness that perfectly balances the composition. Beyond its exquisite flavor profile, this tea offers a moment of self-care and reflection—an invitation to honor your own inner strength through a daily ritual of elegant indulgence.',
	},
};

// ดึง element ของ grid
const productGrid = document.getElementById("productGrid");

// ฟังก์ชันเช็คขนาดหน้าจอแล้วคืนค่าคลาส grid ที่ต้องการ
function getGridColsClass() {
	const width = window.innerWidth;
	if (width >= 1024) {
		// ขนาด lg ขึ้นไป: 2 คอลัมน์
		return "grid-cols-2";
	} else if (width >= 768) {
		// md: 1 คอลัมน์
		return "grid-cols-1";
	} else {
		// Mobile (<768): 2 คอลัมน์ (ตามที่คุณตั้งใจไว้)
		return "grid-cols-2";
	}
}

// ฟังก์ชันปรับคลาสของ grid
function updateGridClass() {
	// เอาคลาส grid-cols ออกทั้งหมดก่อน
	productGrid.classList.remove("grid-cols-1", "grid-cols-2");
	// เพิ่มคลาสใหม่ตามขนาดหน้าจอ
	productGrid.classList.add(getGridColsClass());
}

// ปรับคลาสตอนโหลดเพจ
updateGridClass();
// ปรับคลาสทุกครั้งที่หน้าจอถูกปรับขนาด
window.addEventListener("resize", updateGridClass);

// เพิ่มฟังก์ชันสำหรับสร้าง mobile product cards
function updateMobileProductLayout() {
	const mobileGrid = document.querySelector(
		".grid.grid-cols-2.gap-3.md\\:hidden"
	);
	if (!mobileGrid) {
		console.error("Mobile product grid not found");
		return;
	}

	// Clear existing products
	mobileGrid.innerHTML = "";

	// Render all products
	Object.values(productData).forEach((product) => {
		const productCard = document.createElement("div");
		productCard.className =
			"product-card-mobile rounded-2xl shadow-lg overflow-hidden relative group duration-500 hover:duration-700 bg-gradient-to-tr from-yellow-900/30 via-yellow-900/70 to-yellow-900/30";

		productCard.innerHTML = `
            <div class="relative">
                <img src="${product.image}" alt="${product.name}"
                    class="w-full aspect-square object-cover transition-transform duration-700 ease-in-out transform hover:scale-105">
                <div class="p-4">
                    <div class="inline-block px-2 py-0.5 text-sm text-[#352820] mb-2 rounded" 
                        style="background-color: ${product.color};">
                        ${product.name.toUpperCase()}
                    </div>
                    <h3 class="text-sm font-medium text-tea-text-secondary">${
											product.subtitle
										}</h3>
                    <div class="mt-2 text-xs text-tea-text-secondary/80">
                        <p class="line-clamp-2">${product.description}</p>
                    </div>
                    <button onclick="showProductDetails('${product.id}')"
                        class="mt-3 w-full py-2 text-sm font-medium text-yellow-50 bg-gradient-to-tr from-yellow-900/30 via-yellow-900/70 to-yellow-900/30 ring-1 ring-yellow-900/20 rounded-full hover:opacity-90 transition-all duration-300">
                        View Details
                    </button>
                </div>
            </div>
        `;

		mobileGrid.appendChild(productCard);
	});
}

// Update Grid Layout Function
// Main function to update the product layout
function updateProductLayout() {
	// แก้ไขให้ตรงกับ ID ใน HTML
	const productGrid = document.getElementById("productGrid");
	if (!productGrid) {
		console.error("Product grid element not found");
		return;
	}

	// Clear existing products
	productGrid.innerHTML = "";

	// Render all products
	Object.values(productData).forEach((product) => {
		const productDiv = document.createElement("div");
		productDiv.className =
			"product-card rounded-2xl shadow-lg overflow-hidden relative group duration-500 hover:duration-700";

		productDiv.innerHTML = `
            <div class="flex flex-col md:flex-row p-6">
                <!-- Left: Product Image -->
                <div class="w-full md:w-2/5 pr-0 md:pr-6 mb-6 md:mb-0">
                    <img src="${product.image}" alt="${product.name}"
                        class="w-full transition-transform duration-700 ease-in-out transform hover:scale-105" />
                </div>
                
                <!-- Right: Product Info -->
                <div class="w-full md:w-3/5">
                    <div class="mb-4">
                        <div class="inline-block px-3 py-1 text-lg text-[#352820] mb-2" 
                            style="background-color: ${product.color};">
                            ${product.name.toUpperCase()}
                        </div>
                        <h3 class="text-xl text-tea-text-secondary">${
													product.subtitle
												}</h3>
                    </div>
                    
                    <div class="text-tea-text-secondary text-sm mb-4">
                        <p>${product.description}</p>
                    </div>
                    
                    <div class="text-tea-text-secondary text-sm">
                        <div class="mb-2">
                            <span class="text-tea-text-secondary font-medium">Wellness: </span>
                            ${product.wellnessBenefits}
                        </div>
                        <div class="mb-4">
                            <span class="text-tea-text-secondary font-medium">Ingredients: </span>
                            ${product.ingredients.join(", ")}
                        </div>
                        
                        <button onclick="showProductDetails('${product.id}')"
                            class="relative inline-flex items-center gap-2 px-6 py-3 font-semibold text-yellow-50 bg-gradient-to-tr from-yellow-900/30 via-yellow-900/70 to-yellow-900/30 ring-2 ring-yellow-900/20 rounded-full overflow-hidden hover:opacity-90 transition-all duration-300">
                            View Details
                        </button>
                    </div>
                </div>
            </div>
        `;

		// เพิ่ม productDiv เข้าไปใน grid
		productGrid.appendChild(productDiv);
	});

	// Update mobile layout
	updateMobileProductLayout();
}

// เรียกใช้ฟังก์ชันเมื่อโหลดหน้าเว็บ
document.addEventListener("DOMContentLoaded", updateProductLayout);
window.addEventListener("load", updateProductLayout);
window.addEventListener("resize", updateProductLayout);

// Export if using modules
if (typeof module !== "undefined" && module.exports) {
	module.exports = { updateProductLayout };
}
